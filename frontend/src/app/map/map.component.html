<div class="box event-preview" *ngIf="previewEventTitle"
    [style.top.px]="mouseY - 20" [style.left.px]="mouseX + 20">
    {{previewEventTitle}}
</div>

<div *ngIf="selectedEvent" class="event-card-container">
    <da-event-card [event]="selectedEvent" [selected]="!!mergedEvents" (goBack)="backToMix()"></da-event-card>
</div>
<div *ngIf="!selectedEvent && mergedEvents" class="event-card-container">
    <da-event-card-selector [events]="mergedEvents.events" (selected)="selectEventFromMix($event)"></da-event-card-selector>
</div>

<ng-container *ngFor="let icon of iconList">
    <fa-icon [icon]="icon" [symbol]="icon.iconName + '_figure'"></fa-icon>
    <svg viewBox="0 0 512 512" style="display:none">
        <symbol [attr.id]="icon.iconName">
            <circle cx="256" cy="256" r="256" fill="rgba(230,230,230,0.8)"></circle>
            <use [attr.href]="'#' + icon.iconName + '_figure'" transform="translate(-24, 65) scale(0.6)" />
        </symbol>
    </svg>
    <svg viewBox="0 0 512 512" style="display:none">
        <symbol [attr.id]="'selected_' + icon.iconName">
            <circle cx="256" cy="256" r="256"></circle>
            <use [attr.href]="'#' + icon.iconName + '_figure'" transform="translate(-24, 65) scale(0.6)" color="rgba(230,230,230)" />
        </symbol>
    </svg>
</ng-container>

<ng-container *ngFor="let size of stackSizes">
    <svg viewBox="0 0 512 512" style="display:none">
        <symbol [attr.id]="'stack_' + size">
            <circle cx="256" cy="256" r="256" fill="rgba(230,230,230,0.8)"></circle>
            <text [attr.id]="'stack_' + size" class="stack-size" [ngClass]="{'is-small': size > 100}"
                x="256" [attr.y]="size > 100 ? 310 : 350" text-anchor="middle">{{size}}</text>
        </symbol>
    </svg>
    <svg viewBox="0 0 512 512" style="display:none">
        <symbol [attr.id]="'stack_selected_' + size">
            <circle cx="256" cy="256" r="256"></circle>
            <text [attr.id]="'stack_' + size" class="stack-size" [ngClass]="{'is-small': size > 100}"
                x="256" [attr.y]="size > 100 ? 310 : 350" text-anchor="middle" fill="rgba(230,230,230)" >{{size}}</text>
        </symbol>
    </svg>
</ng-container>

<svg #target fill="#ded9c4" stroke="#CEAB93">
</svg>
